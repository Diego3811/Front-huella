<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="finger-front.component.css">
    <title>Lector de Huellas Digitales</title>
</head>
<body>
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">Lector de Huellas Digitales</h2>
            <p class="card-description">Sistema de verificación biométrica</p>
        </div>
        
        <div class="card-content">
            <div class="fingerprint-reader" id="fingerprint-reader">
                <svg width="64px" height="64px" stroke-width="1.3" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#000000">
                    <!-- SVG content -->
                </svg>
                <div class="scan-animation" [class.active]="isScanning"></div>
            </div>

            <div class="status-message">
                <div class="spinner" *ngIf="isScanning"></div>
                <span>
                    {{ errorMensaje ? 'Error: ' + errorMensaje : 
                      fingerprintBase64 ? 'Huella capturada' : 
                      'Coloque su dedo en el lector' }}
                </span>
            </div>
        </div>

        <div class="card-footer">
            <input type="text" id="fingerprintBase64" [(ngModel)]="textoDeMuestra"/>
            
            <button class="button button-primary" 
                    (click)="capturarHuella()"
                    [disabled]="isScanning">
                {{ isScanning ? 'Escaneando...' : 'Iniciar Escaneo' }}
            </button>

            <div *ngIf="fingerprintBase64" class="fingerprint-captured">
                <h3>Huella Capturada:</h3>
                <textarea rows="4" cols="50" readonly>{{ fingerprintBase64 | slice:0:50 }}...</textarea>
            </div>

            <div *ngIf="errorMensaje" class="error-message">
                <p>{{ errorMensaje }}</p>
            </div>

            <button class="button button-outline" 
                    (click)="resetState()"
                    *ngIf="fingerprintBase64 || errorMensaje">
                Escanear Otra Vez
            </button>
        </div>
    </div>
</body>
</html>